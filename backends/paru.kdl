// paru - AUR helper with pacman integration
// https://github.com/Morganamilo/paru

backend "paru" {
    meta {
        title "paru"
        description "AUR helper with pacman integration"
        version "1.0.0"
        author "declarch"
        tags "aur" "arch" "pacman" "helper"
        homepage "https://github.com/Morganamilo/paru"
        license "GPL-3.0"
        created "2026-02-08"
        platforms "linux"
        requires "paru"
    }
    
    // Try paru first, fallback to yay, then pacman
    binary "paru" "yay" "pacman"
    
    list "paru -Q 2>/dev/null || yay -Q 2>/dev/null || pacman -Q" {
        format whitespace
        name_col 0
        version_col 1
    }
    
    install "paru -S --needed {packages} 2>/dev/null || yay -S --needed {packages} 2>/dev/null || pacman -S --needed {packages}"
    remove "paru -Rns {packages} 2>/dev/null || yay -Rns {packages} 2>/dev/null || pacman -Rns {packages}"
    
    noconfirm "--noconfirm"
    needs_sudo false  // paru/yay handle sudo internally
    
    // Fallback chain: paru -> yay -> pacman
    fallback "pacman"
}
