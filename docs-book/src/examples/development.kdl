// Development Environment Configuration
// Focused on programming and development tools

// === METADATA ===
meta {
    description "Development environment with multiple language stacks"
    author "yourname"
    version "1.0.0"
    tags "development" "programming"
}

// === EDITOR ===
editor "nvim"

// === DEVELOPMENT TOOLS ===

// === EDITORS ===
packages {
    neovim              // Modern Vim
    helix               // Post-modern text editor
    vscode              // Visual Studio Code (AUR/VSCodium)

    // === TERMINAL TOOLS ===
    tmux                // Terminal multiplexer
    lazygit             // Git TUI
    gitui               // Git TUI alternative
    gh                  // GitHub CLI
    git-delta           // Better diff viewer
}

// === LANGUAGE: RUST ===

// Cargo packages
packages:cargo {
    // === CORE ===
    ripgrep             // Fast grep
    fd-find             // Fast find
    zoxide              // Smart cd

    // === RUST DEVELOPMENT ===
    cargo-edit          // Cargo command extension
    cargo-watch         // Watch for changes
    cargo-audit         // Audit dependencies
    cargo-outdated      // Check for updates
    sqlx-cli            // SQL toolkit
    bacon               // Background cargo check

    // === TOOLS ===
    tealdeer            // Rust tldr
    miniserve           // Temporary file server
    zellij              // Terminal workspace
}

// AUR Rust packages
packages {
    rust-analyzer       // Rust language server
}

// === LANGUAGE: NODE.JS / TYPESCRIPT ===

packages:npm {
    // === TYPESCRIPT ===
    typescript
    @types/node

    // === FORMATTERS & LINTERS ===
    prettier
    eslint
    @typescript-eslint/parser
    @typescript-eslint/eslint-plugin

    // === BUILD TOOLS ===
    vite                // Build tool
    tsup                // TypeScript bundler
}

// === LANGUAGE: PYTHON ===

packages:pip {
    // === DEVELOPMENT ===
    black               // Code formatter
    ruff                // Fast linter
    mypy                // Type checker
    isort               // Import sorter

    // === DATA SCIENCE ===
    jupyter
    numpy
    pandas
    matplotlib

    // === TOOLS ===
    pipx                // Install Python apps
    poetry              // Dependency management
}

// === LANGUAGE: GO ===

// Define Go backend (not built-in)
// Uncomment to enable Go package support
/*
backends {
    go {
        cmd "go install"
        list_cmd "ls -1 ~/go/bin/ 2>/dev/null || true"
        remove_cmd "rm -f ~/go/bin/<package>"
    }
}

packages:go {
    github.com/cli/cli@latest
    golang.org/x/tools/gopls@latest
    github.com/golangci/golangci-lint/cmd/golangci-lint@latest
    github.com/go-delve/delve/cmd/dlv@latest
}
*/

// === LANGUAGE: WEB DEVELOPMENT ===

packages:npm {
    // === FRAMEWORKS ===
    create-vite         // Vite starter
    next-cli            // Next.js CLI

    // === TESTING ===
    vitest              // Testing framework
    playwright          // Browser automation
}

// === DATABASES ===

packages {
    // PostgreSQL client
    postgresql

    // Redis client
    redis

    // MongoDB tools
    mongosh
}

// === CONTAINERS & VIRTUALIZATION ===

packages {
    docker             // Docker CLI
    docker-compose      // Docker Compose
    podman             // Alternative to Docker
}

// === CLOUD & INFRASTRUCTURE ===

packages:npm {
    // AWS
    @aws-sdk/client-s3

    // Terraform (if installed via npm)
    // Alternatively install via AUR
}

packages {
    // Kubernetes
    kubectl
    helm                // Kubernetes package manager
    k9s                 // Kubernetes TUI

    // Terraform
    terraform
}

// === API & HTTP TOOLS ===

packages {
    curl                // HTTP client
    httpie              // User-friendly HTTP client
    jq                  // JSON processor
    gron                // JSON to grepable output
}

packages:cargo {
    xh                  // Modern HTTP client (alternativa to httpie)
}

// === GIT TOOLS ===

packages:cargo {
    git-delta           // Better diff viewer
}

packages {
    lazygit             // Git TUI
    gitui               // Another Git TUI
    gh                  // GitHub CLI
    glab                // GitLab CLI
}

// === DOCUMENTATION ===

packages:cargo {
    mdbook              // Book creation tool
}

// === MISC DEVELOPMENT ===

packages {
    postgresql          // Database
    redis               // Cache
    nginx               // Web server
}

// === LIFECYCLE ACTIONS ===
// Run development environment setup after sync
hooks {
    post-sync "notify-send 'Dev Environment' 'Development packages updated'"
    post-sync "~/.config/declarch/scripts/dev-post-sync.sh"
}

// === DEV POST-SYNC SCRIPT ===
// Create: ~/.config/declarch/scripts/dev-post-sync.sh
/*
#!/bin/bash
# Post-sync script for development environment

# Update shell
if command -v zsh &> /dev/null; then
    echo "Updating shell plugins..."
    # Update zsh plugins, etc.
fi

# Update Python packages
if command -v pip &> /dev/null; then
    echo "Checking Python packages..."
    pip list --outdated
fi

# Update npm packages
if command -v npm &> /dev/null; then
    echo "Checking npm packages..."
    npm outdated -g
fi

# Update Rust tools
if command -v cargo &> /dev/null; then
    echo "Checking Rust tools..."
    # cargo install-update -a  # if cargo-install-update is installed
fi

notify-send "Dev Environment" "Post-sync tasks complete"
*/
