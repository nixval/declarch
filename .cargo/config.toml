# Cargo configuration for faster builds and better binaries

[build]
# Use faster linker (mold > lld > default)
# mold: fastest, needs installation: pacman -S mold
# lld: included in clang, faster than default linker
[target.x86_64-unknown-linux-gnu]
linker = "clang"
rustflags = [
    "-C", "link-arg=-fuse-ld=lld",  # Use lld linker (faster than default)
    # Remove absolute paths from binary (security/privacy)
    "-C", "link-arg=-Wl,--strip-all",
]

# Fallback if clang/lld not available:
# [target.x86_64-unknown-linux-gnu]
# rustflags = ["-C", "link-arg=-fuse-ld=mold"]  # Use mold (fastest, needs install)

# Development builds use the target settings above
# No profile-specific overrides needed

[net]
# Use sparse git fetch for faster dependency cloning
git-fetch-with-cli = true

[http]
# Check for updates less frequently during development
# (increase this to reduce network calls)
# check-releases = false
